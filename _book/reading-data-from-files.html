<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Starting Out with R and Shiny</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is a booklike set of lesson plans on starting out with R, with the goal of writing Shiny dashboards.">
  <meta name="generator" content="bookdown 0.0.72 and GitBook 2.6.7">

  <meta property="og:title" content="Starting Out with R and Shiny" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a booklike set of lesson plans on starting out with R, with the goal of writing Shiny dashboards." />
  <meta name="github-repo" content="ironholds/simpler" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Starting Out with R and Shiny" />
  
  <meta name="twitter:description" content="This is a booklike set of lesson plans on starting out with R, with the goal of writing Shiny dashboards." />
  

<meta name="author" content="Oliver Keyes">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="tutorial-format.html">
<link rel="next" href="reading-data-from-databases.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/ironholds/simpler">Starting Out with R and Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preamble</a></li>
<li class="part"><span><b>Introduction to R</b></span></li>
<li class="chapter" data-level="1" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>1</b> Background</a><ul>
<li class="chapter" data-level="1.1" data-path="background.html"><a href="background.html#a-brief-history-of-splines"><i class="fa fa-check"></i><b>1.1</b> A brief history of splines</a></li>
<li class="chapter" data-level="1.2" data-path="background.html"><a href="background.html#why-r-succeeds"><i class="fa fa-check"></i><b>1.2</b> Why R succeeds</a></li>
<li class="chapter" data-level="1.3" data-path="background.html"><a href="background.html#the-r-community"><i class="fa fa-check"></i><b>1.3</b> The R community</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-set-up.html"><a href="getting-set-up.html"><i class="fa fa-check"></i><b>2</b> Getting set up</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-set-up.html"><a href="getting-set-up.html#installation"><i class="fa fa-check"></i><b>2.1</b> Installation</a></li>
<li class="chapter" data-level="2.2" data-path="getting-set-up.html"><a href="getting-set-up.html#using-rstudio"><i class="fa fa-check"></i><b>2.2</b> Using RStudio</a></li>
</ul></li>
<li class="part"><span><b>Data Import and Export</b></span></li>
<li class="chapter" data-level="3" data-path="tutorial-format.html"><a href="tutorial-format.html"><i class="fa fa-check"></i><b>3</b> Tutorial format</a></li>
<li class="chapter" data-level="4" data-path="reading-data-from-files.html"><a href="reading-data-from-files.html"><i class="fa fa-check"></i><b>4</b> Reading data from files</a><ul>
<li class="chapter" data-level="4.1" data-path="reading-data-from-files.html"><a href="reading-data-from-files.html#csv-tsv"><i class="fa fa-check"></i><b>4.1</b> CSV &amp; TSV</a></li>
<li class="chapter" data-level="4.2" data-path="reading-data-from-files.html"><a href="reading-data-from-files.html#excel"><i class="fa fa-check"></i><b>4.2</b> Excel</a></li>
<li class="chapter" data-level="4.3" data-path="reading-data-from-files.html"><a href="reading-data-from-files.html#other-types"><i class="fa fa-check"></i><b>4.3</b> Other types</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-data-from-databases.html"><a href="reading-data-from-databases.html"><i class="fa fa-check"></i><b>5</b> Reading data from databases</a></li>
<li class="chapter" data-level="6" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>6</b> Exporting data</a></li>
<li class="part"><span><b>Cleaning Data</b></span></li>
<li class="chapter" data-level="7" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>7</b> Reshaping data</a></li>
<li class="chapter" data-level="8" data-path="data-manipulation.html"><a href="data-manipulation.html"><i class="fa fa-check"></i><b>8</b> Data manipulation</a></li>
<li class="chapter" data-level="9" data-path="text-cleaning.html"><a href="text-cleaning.html"><i class="fa fa-check"></i><b>9</b> Text-cleaning</a></li>
<li class="chapter" data-level="10" data-path="dates-and-times.html"><a href="dates-and-times.html"><i class="fa fa-check"></i><b>10</b> Dates and times</a></li>
<li class="part"><span><b>Shiny</b></span></li>
<li class="chapter" data-level="11" data-path="building-your-first-app.html"><a href="building-your-first-app.html"><i class="fa fa-check"></i><b>11</b> Building your first app</a></li>
<li class="chapter" data-level="12" data-path="user-interface-design.html"><a href="user-interface-design.html"><i class="fa fa-check"></i><b>12</b> User Interface design</a></li>
<li class="chapter" data-level="13" data-path="custom-inputs-and-outputs.html"><a href="custom-inputs-and-outputs.html"><i class="fa fa-check"></i><b>13</b> Custom inputs and outputs</a></li>
<li class="chapter" data-level="14" data-path="reactive-expressions.html"><a href="reactive-expressions.html"><i class="fa fa-check"></i><b>14</b> Reactive expressions</a></li>
<li class="chapter" data-level="15" data-path="shiny-dashboarding.html"><a href="shiny-dashboarding.html"><i class="fa fa-check"></i><b>15</b> Shiny dashboarding</a></li>
<li class="part"><span><b>Advanced</b></span></li>
<li class="chapter" data-level="16" data-path="code-style.html"><a href="code-style.html"><i class="fa fa-check"></i><b>16</b> Code style</a></li>
<li class="chapter" data-level="17" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>17</b> Version control</a></li>
<li class="chapter" data-level="18" data-path="testing-and-staging.html"><a href="testing-and-staging.html"><i class="fa fa-check"></i><b>18</b> Testing and staging</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Starting Out with R and Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reading-data-from-files" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Reading data from files</h1>
<p>Obviously the first step in data analysis is getting the data, so let’s start there! Datasets come in lots of different formats, so we’ll cover the ones you most commonly see in a business context, namely:</p>
<ol style="list-style-type: decimal">
<li>Comma-separated and tab-separated values files (CSV/TSV);</li>
<li>Microsoft Excel spreadsheets;</li>
<li>MySQL and similar databases.</li>
</ol>
<div id="csv-tsv" class="section level2">
<h2><span class="header-section-number">4.1</span> CSV &amp; TSV</h2>
<p>CSVs and TSVs are the most common file format for data, and the good news there is that as a consequence, R has a whole host of tools for reading them in. Let’s open by loading one of them: the <code>readr</code> add-on I had you install earlier:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)</code></pre></div>
<p>So, what’s this code doing? First, <code>library</code>; that’s a function, which is a self-contained chunk of code that’s packaged and made available so you can use it as many times as you want without having to write the code out entirely each time. <code>readr</code> is the input provided to <code>library</code>. So it works out as <code>do_this_thing(to_this_thing)</code>.</p>
<p>The <code>library</code> function loads <em>packages</em> - the add-ons I was talking about earlier - so you can refer to the code they contain when you’re working. In this case it’s loading <code>readr</code>, a package specifically designed for reading in and writing out a wide range of file formats, including CSVs and TSVs.</p>
<p>So we have our file-reading code. Now let’s read in the file, with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">patient_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="dt">file =</span> <span class="st">&quot;https://www.ironholds.org/resources/misc/patient_data.csv&quot;</span>)</code></pre></div>
<p>Let’s break down what’s going on in that code, going from right to left. First we have a piece of text - a URL, in fact - in quote marks. The quote marks identify the text as a <code>string</code>; something that R should treat just as text, not as code to be executed. Then we have that URL being associated with “file”, the entire thing wrapped in parentheses, preceded by <code>read_csv</code> which, as we’ve seen from loading the <code>readr</code> package, is a function call.</p>
<p>So what we have is a call to run <code>read_csv</code>, with the “file” argument being that URL - so it’s reading a CSV from that URL! The argument, as the name <code>file</code> suggests, doesn’t have to be a URL; it can also be a file on your local computer.</p>
<p>Then we shift left and run into <code>&lt;-</code>. That’s R’s <em>assignment operator</em>; it assigns the results of whatever code is on the right of the operator, to a name on the left of it (in this case, <code>patient_data</code>). So the code, in plain English, is “read in the CSV at this URL and assign the contents of it to the name <code>patient_data</code>”. The result (the output of code, tied to a name) is an <em>object</em>.</p>
<p>You can see the contents of an object just by typing its name into the console, but that prints the entire thing, and this dataset is rather large; instead, let’s use the <code>head</code> function, which just prints the top few rows (the head of the data):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(patient_data)


  year facility_number    facility_name county_name type_of_control age_group count
<span class="dv">1</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">10-19</span>    <span class="dv">62</span>
<span class="dv">2</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">20-29</span>   <span class="dv">124</span>
<span class="dv">3</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">30-39</span>   <span class="dv">140</span>
<span class="dv">4</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">40-49</span>   <span class="dv">243</span>
<span class="dv">5</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">50-59</span>   <span class="dv">411</span>
<span class="dv">6</span> <span class="dv">2009</span>          <span class="dv">010735</span> ALAMEDA HOSPITAL     ALAMEDA        District     <span class="dv">60-69</span>   <span class="dv">415</span></code></pre></div>
<p>As you can see, it’s tabular, just like the CSV - columns of values, rows of observations, and row numbers (from 1 to 6). What you’re looking at is a “data frame”, the most common type of object in R: it’s designed to hold tabular data, since tabular data is what most statisticians and data scientists rely on.</p>
<p>We can get a more detailed look at it with the <code>str</code> function (which means “structure” and does exactly what it says on the tin):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(patient_data)

Classes ‘tbl_df’, ‘tbl’ and <span class="st">&#39;data.frame&#39;</span>:<span class="st">   </span><span class="dv">23578</span> obs. of  <span class="dv">7</span> variables:
<span class="st"> </span><span class="er">$</span><span class="st"> </span>year           :<span class="st"> </span>int  <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> <span class="dv">2009</span> ...
 $<span class="st"> </span>facility_number:<span class="st"> </span>chr  <span class="st">&quot;010735&quot;</span> <span class="st">&quot;010735&quot;</span> <span class="st">&quot;010735&quot;</span> <span class="st">&quot;010735&quot;</span> ...
 $<span class="st"> </span>facility_name  :<span class="st"> </span>chr  <span class="st">&quot;ALAMEDA HOSPITAL&quot;</span> <span class="st">&quot;ALAMEDA HOSPITAL&quot;</span> <span class="st">&quot;ALAMEDA HOSPITAL&quot;</span> <span class="st">&quot;ALAMEDA HOSPITAL&quot;</span> ...
 $<span class="st"> </span>county_name    :<span class="st"> </span>chr  <span class="st">&quot;ALAMEDA&quot;</span> <span class="st">&quot;ALAMEDA&quot;</span> <span class="st">&quot;ALAMEDA&quot;</span> <span class="st">&quot;ALAMEDA&quot;</span> ...
 $<span class="st"> </span>type_of_control:<span class="st"> </span>chr  <span class="st">&quot;District&quot;</span> <span class="st">&quot;District&quot;</span> <span class="st">&quot;District&quot;</span> <span class="st">&quot;District&quot;</span> ...
 $<span class="st"> </span>age_group      :<span class="st"> </span>chr  <span class="st">&quot;10-19&quot;</span> <span class="st">&quot;20-29&quot;</span> <span class="st">&quot;30-39&quot;</span> <span class="st">&quot;40-49&quot;</span> ...
 $<span class="st"> </span>count          :<span class="st"> </span>int  <span class="dv">62</span> <span class="dv">124</span> <span class="dv">140</span> <span class="dv">243</span> <span class="dv">411</span> <span class="dv">415</span> <span class="dv">486</span> <span class="dv">961</span> <span class="dv">7743</span> <span class="dv">788</span> ...</code></pre></div>
</div>
<div id="excel" class="section level2">
<h2><span class="header-section-number">4.2</span> Excel</h2>
</div>
<div id="other-types" class="section level2">
<h2><span class="header-section-number">4.3</span> Other types</h2>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tutorial-format.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reading-data-from-databases.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ironholds/simpler",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
